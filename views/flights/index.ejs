<%- include('../partials/header') %>

<table id="list">
  <thead>
    <tr>
      <th>Departure</th>
      <th>Airport</th>
      <th>Airline</th>
      <th>Flight No.</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% let sortedFlights = [...flights];
    sortedFlights.sort((a, b) => {
      return new Date(a.departs) - new Date(b.departs);
    }); %>
    <% sortedFlights.forEach(function(flight) { %>
      <tr>
        <td><%= flight.departs.toLocaleDateString()%> | <%= flight.departs.toLocaleTimeString()%></td>
        <td><%= flight.airport %></td>
        <td><%= flight.airline %></td>
        <td><%= flight.flightNo %></td>
        <td><a href="/flights/<%= flight._id %>">DETAILS</a></td>
      </tr>
    <% }); %>
  </tbody>
</table>

<%- include('../partials/footer') %>
